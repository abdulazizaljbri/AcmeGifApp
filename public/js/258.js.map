{"version":3,"sources":["webpack:///resources/js/components/profile/UpdateProfileInformation.vue","webpack:///./resources/js/components/profile/UpdateProfileInformation.vue?cc9c","webpack:///./resources/js/components/profile/UpdateProfileInformation.vue","webpack:///./resources/js/components/profile/UpdateProfileInformation.vue?0a2b"],"names":["props","components","data","loading","loading_ph","form","name","this","user","email","photo","photoPreview","methods","updateProfileInformation","append","$refs","files","$inertia","post","route","preserveScroll","onProgress","onSuccess","onFinish","selectNewPhoto","click","updatePhotoPreview","reader","onload","readAsDataURL","open","confirm","deletePhoto","_vm","_h","$createElement","_c","_self","attrs","staticClass","_v","on","$event","preventDefault","model","value","callback","$$v","$set","expression","ref","profile_photo_url","_e","directives","rawName","errorFor","_s"],"mappings":"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","file":"js/258.js","sourcesContent":["<template>\n  <v-card elevation=\"3\">\n    <v-container>\n      <v-card-subtitle class=\"text-center\">\n        تعديل البيانات الشخصية\n      </v-card-subtitle>\n      <form @submit.prevent=\"updateProfileInformation\">\n        <v-row align=\"center\">\n          <v-col cols=\"12\" sm=\"8\" order=\"2\" order-sm=\"1\">\n\n              <c-text-field\n                name=\"name\"\n                label=\"اسم المستخدم\"\n                append-icon=\"fa-user\"\n                v-model=\"form.name\"\n              />\n              <c-text-field\n                type=\"email\"\n                name=\"email\"\n                label=\"البريد الالكتروني\"\n                append-icon=\"fa-envelope\"\n                v-model=\"form.email\"\n              />\n\n          </v-col>\n          <v-col cols=\"12\" sm=\"4\" order=\"1\" order-sm=\"2\">\n            <div\n              class=\"d-flex justify-center align-center flex-column flex-wrap\"\n            >\n              <div class=\"flex-grow-1\">\n                <input\n                  type=\"file\"\n                  accept=\"image/*\"\n                  class=\"d-none\"\n                  ref=\"photo\"\n                  @change=\"updatePhotoPreview\"\n                />\n                <v-avatar color=\"black\" size=\"200\">\n                  <v-img\n                    contain\n                    :src=\"`${user.profile_photo_url}`\"\n                    v-if=\"user.profile_photo_url && !photoPreview\"\n                    maxHeight=\"200\"\n                    maxWidth=\"200\"\n                    class=\"img-fluid\"\n                  ></v-img>\n                  <v-img\n                    contain\n                    ref=\"mylogo\"\n                    :src=\"photoPreview\"\n                    v-if=\"photoPreview\"\n                    class=\"img-fluid\"\n                    maxHeight=\"250\"\n                    maxWidth=\"250\"\n                  ></v-img>\n                </v-avatar>\n\n                <div\n                  v-show=\"errorFor('photo', 'default')\"\n                  class=\"my-2\"\n                />\n                <p class=\"text-sm red--text\">\n                  {{ errorFor(\"photo\", \"default\") }}\n                </p>\n              </div>\n            </div>\n            <div class=\"d-flex flex-wrap justify-center\">\n              <v-btn\n                class=\"ma-2\"\n                type=\"button\"\n                @click.prevent=\"selectNewPhoto\"\n                color=\"primary white--text\"\n              >\n                اختيار صورة\n              </v-btn>\n              <v-btn\n                type=\"button\"\n                class=\"ma-2\"\n                @click.prevent=\"open\"\n                :loading=\"loading_ph\"\n                color=\"red\"\n                dark\n                v-if=\"user.profile_photo_path\"\n              >\n                حذف الصورة\n              </v-btn>\n            </div>\n          </v-col>\n        </v-row>\n        <v-card-actions>\n          <v-btn\n            type=\"submit\"\n            :disabled=\"loading\"\n            :loading=\"loading\"\n            class=\"white--text\"\n            color=\"primary\"\n          >\n            تعديل\n          </v-btn>\n        </v-card-actions>\n      </form>\n    </v-container>\n    <confirm ref=\"confirm\"></confirm>\n  </v-card>\n</template>\n<script>\nimport Confirm from \"@/components/Confirm\";\nexport default {\n  props: [\"user\"],\n  components: { Confirm },\n\n  data() {\n    return {\n      loading: false,\n      loading_ph: false,\n\n      form: {\n        name: this.user.name,\n        email: this.user.email,\n        photo: null,\n      },\n\n      photoPreview: null,\n    };\n  },\n  methods: {\n    updateProfileInformation() {\n      let data = new FormData();\n      data.append(\"_method\", \"PUT\");\n      data.append(\"name\", this.form.name);\n      data.append(\"email\", this.form.email);\n      if (this.$refs.photo.files[0]) {\n        this.form.photo = this.$refs.photo.files[0];\n\n        data.append(\"photo\", this.$refs.photo.files[0]);\n      }\n      this.loading = true;\n      this.$inertia.post(route(\"user-profile-information.update\"), data, {\n        preserveScroll: true,\n        onProgress: (progress) => {\n          this.loading = true;\n        },\n        onSuccess: (page) => {\n          this.loading = false;\n          // console.log(this.hasErrors())\n        },\n        onFinish: () => {\n          this.loading = false;\n          // console.log(this.hasErrors())\n        },\n      });\n    },\n\n    selectNewPhoto() {\n      this.$refs.photo.click();\n    },\n\n    updatePhotoPreview() {\n      const reader = new FileReader();\n\n      reader.onload = (e) => {\n        this.photoPreview = e.target.result;\n      };\n\n      reader.readAsDataURL(this.$refs.photo.files[0]);\n    },\n\n    open() {\n      this.$refs.confirm\n        .open(\"حذف\", \"هل تريد حذف الصورة الشخصية\", { color: \"red\" })\n        .then((confirm) => {\n          if (confirm) {\n            this.deletePhoto();\n          }\n        });\n    },\n\n    deletePhoto() {\n      this.loading_ph = true;\n\n      this.$inertia.delete(route(\"current-user-photo.destroy\"), {\n        preserveScroll: true,\n        onProgress: (progress) => {\n          this.loading_ph = true;\n        },\n        onSuccess: (page) => {\n          if (!this.hasErrors()) {\n            this.photoPreview = null;\n          }\n          this.loading_ph = false;\n        },\n        onFinish: () => {\n          this.loading = false;\n        },\n      });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateProfileInformation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateProfileInformation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UpdateProfileInformation.vue?vue&type=template&id=132a85d4&\"\nimport script from \"./UpdateProfileInformation.vue?vue&type=script&lang=js&\"\nexport * from \"./UpdateProfileInformation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"elevation\":\"3\"}},[_c('v-container',[_c('v-card-subtitle',{staticClass:\"text-center\"},[_vm._v(\"\\n      تعديل البيانات الشخصية\\n    \")]),_vm._v(\" \"),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.updateProfileInformation($event)}}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"8\",\"order\":\"2\",\"order-sm\":\"1\"}},[_c('c-text-field',{attrs:{\"name\":\"name\",\"label\":\"اسم المستخدم\",\"append-icon\":\"fa-user\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}}),_vm._v(\" \"),_c('c-text-field',{attrs:{\"type\":\"email\",\"name\":\"email\",\"label\":\"البريد الالكتروني\",\"append-icon\":\"fa-envelope\"},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"order\":\"1\",\"order-sm\":\"2\"}},[_c('div',{staticClass:\"d-flex justify-center align-center flex-column flex-wrap\"},[_c('div',{staticClass:\"flex-grow-1\"},[_c('input',{ref:\"photo\",staticClass:\"d-none\",attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":_vm.updatePhotoPreview}}),_vm._v(\" \"),_c('v-avatar',{attrs:{\"color\":\"black\",\"size\":\"200\"}},[(_vm.user.profile_photo_url && !_vm.photoPreview)?_c('v-img',{staticClass:\"img-fluid\",attrs:{\"contain\":\"\",\"src\":(\"\" + (_vm.user.profile_photo_url)),\"maxHeight\":\"200\",\"maxWidth\":\"200\"}}):_vm._e(),_vm._v(\" \"),(_vm.photoPreview)?_c('v-img',{ref:\"mylogo\",staticClass:\"img-fluid\",attrs:{\"contain\":\"\",\"src\":_vm.photoPreview,\"maxHeight\":\"250\",\"maxWidth\":\"250\"}}):_vm._e()],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errorFor('photo', 'default')),expression:\"errorFor('photo', 'default')\"}],staticClass:\"my-2\"}),_vm._v(\" \"),_c('p',{staticClass:\"text-sm red--text\"},[_vm._v(\"\\n                \"+_vm._s(_vm.errorFor(\"photo\", \"default\"))+\"\\n              \")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"d-flex flex-wrap justify-center\"},[_c('v-btn',{staticClass:\"ma-2\",attrs:{\"type\":\"button\",\"color\":\"primary white--text\"},on:{\"click\":function($event){$event.preventDefault();return _vm.selectNewPhoto($event)}}},[_vm._v(\"\\n              اختيار صورة\\n            \")]),_vm._v(\" \"),(_vm.user.profile_photo_path)?_c('v-btn',{staticClass:\"ma-2\",attrs:{\"type\":\"button\",\"loading\":_vm.loading_ph,\"color\":\"red\",\"dark\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.open($event)}}},[_vm._v(\"\\n              حذف الصورة\\n            \")]):_vm._e()],1)])],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-btn',{staticClass:\"white--text\",attrs:{\"type\":\"submit\",\"disabled\":_vm.loading,\"loading\":_vm.loading,\"color\":\"primary\"}},[_vm._v(\"\\n          تعديل\\n        \")])],1)],1)],1),_vm._v(\" \"),_c('confirm',{ref:\"confirm\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"sourceRoot":""}