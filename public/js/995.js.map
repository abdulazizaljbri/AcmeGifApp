{"version":3,"sources":["webpack:///./resources/js/components/profile/TwoFactorAuthentication.vue?7e4e","webpack:///resources/js/components/profile/ConfirmsPassword.vue","webpack:///./resources/js/components/profile/ConfirmsPassword.vue?b5c8","webpack:///./resources/js/components/profile/ConfirmsPassword.vue","webpack:///./resources/js/components/profile/TwoFactorAuthentication.vue?2268","webpack:///resources/js/components/profile/TwoFactorAuthentication.vue","webpack:///./resources/js/components/profile/ConfirmsPassword.vue?ab22","webpack:///./resources/js/components/profile/TwoFactorAuthentication.vue?f4f3","webpack:///./resources/js/components/profile/TwoFactorAuthentication.vue","webpack:///./resources/js/components/profile/TwoFactorAuthentication.vue?fb91"],"names":["___CSS_LOADER_EXPORT___","push","module","id","props","title","default","content","button","data","loading","confirmingPassword","form","password","error","methods","startConfirmingPassword","this","axios","get","route","then","response","confirmed","confirmPassword","components","_vm","_h","$createElement","_c","_self","on","_t","_v","attrs","model","value","callback","$$v","expression","staticClass","_s","ref","class","nativeOn","$event","type","indexOf","_k","keyCode","key","$set","enabling","disabling","regenerate","showRecovery","qrCode","recoveryCodes","enableTwoFactorAuthentication","$inertia","showQrCode","showRecoveryCodes","regenerateRecoveryCodes","post","disableTwoFactorAuthentication","computed","twoFactorEnabled","$page","user","two_factor_enabled","options","domProps","_e","length","_l","code"],"mappings":"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","file":"js/995.js","sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".text-lg{font-size:1.125rem;line-height:1.75rem}.font-medium{font-weight:500}.text-sm{font-size:.875rem;line-height:1.25rem}.max-w-xl{max-width:36rem}.grid{display:grid}.gap-1{grid-gap:.25rem;gap:.25rem}.font-mono{font-family:Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.bg-gray-100{--bg-opacity:1;background-color:#f4f5f7;background-color:rgba(244,245,247,var(--bg-opacity))}\", \"\",{\"version\":3,\"sources\":[\"webpack://./resources/js/components/profile/TwoFactorAuthentication.vue\"],\"names\":[],\"mappings\":\"AAiNA,SACA,kBAAA,CACA,mBACA,CACA,aACA,eACA,CACA,SACA,iBAAA,CACA,mBACA,CACA,UACA,eACA,CACA,MACA,YACA,CACA,OACA,eAAA,CACA,UACA,CACA,WACA,uEAEA,CACA,aACA,cAAA,CACA,wBAAA,CACA,oDACA\",\"sourcesContent\":[\"<template>\\n  <v-card elevation=\\\"3\\\">\\n    <v-container>\\n      <v-card-title class=\\\"text-center\\\"> المصادقة الثنائية </v-card-title>\\n      <v-row align-center justify-center>\\n        <v-col cols=\\\"12\\\" md=\\\"4\\\">\\n          <v-card-subtitle>\\n            أضف أمانًا إضافيًا إلى حسابك باستخدام المصادقة الثنائية\\n          </v-card-subtitle>\\n        </v-col>\\n        <v-col cols=\\\"12\\\" md=\\\"8\\\">\\n          <v-card-text>\\n            <h3 class=\\\"text-lg font-medium gray--text\\\" v-if=\\\"twoFactorEnabled\\\">\\n              لقد قمت بتمكين المصادقة الثنائية\\n            </h3>\\n\\n            <h3 class=\\\"text-lg font-medium gray--text\\\" v-else>\\n              لم تقم بتمكين المصادقة الثنائية\\n            </h3>\\n\\n            <div class=\\\"mt-3 max-w-xl text-sm gray--text\\\">\\n              <p>\\n                عند تمكين المصادقة الثنائية ، ستتم مطالبتك برمز آمن وعشوائي\\n                أثناء المصادقة. يمكنك استرداد هذا الرمز المميز من تطبيق Google\\n                Authenticator بهاتفك.\\n              </p>\\n            </div>\\n          </v-card-text>\\n        </v-col>\\n        <v-col cols=\\\"12\\\">\\n          <v-card-text>\\n            <div v-if=\\\"twoFactorEnabled\\\">\\n              <v-row>\\n                <v-col cols=\\\"12\\\" md=\\\"6\\\" v-if=\\\"qrCode\\\">\\n                  <div class=\\\"mt-4 max-w-xl text-sm gray--text\\\">\\n                    <p class=\\\"font-semibold\\\">\\n                      تم تمكين المصادقة الثنائية الآن. امسح رمز الاستجابة\\n                      السريعة التالي ضوئيًا باستخدام تطبيق المصادقة بهاتفك.\\n                    </p>\\n                  </div>\\n\\n                  <div\\n                    class=\\\"mt-4 dark:p-4 dark:w-56 dark:bg-white\\\"\\n                    v-html=\\\"qrCode\\\"\\n                  ></div>\\n                </v-col>\\n\\n                <v-col cols=\\\"12\\\" md=\\\"6\\\" v-if=\\\"recoveryCodes.length > 0\\\">\\n                  <div class=\\\"mt-4 max-w-xl text-sm gray--text\\\">\\n                    <p class=\\\"font-semibold\\\">\\n                      قم بتخزين رموز الاسترداد هذه في مدير كلمات مرور آمن. يمكن\\n                      استخدامها لاستعادة الوصول إلى حسابك في حالة فقد جهاز\\n                      المصادقة الثنائية الخاص بك.\\n                    </p>\\n                  </div>\\n\\n                  <div\\n                    class=\\\"grid gap-1 max-w-xl mt-4 px-4 py-4 font-mono text-sm bg-gray-100 rounded-lg\\\"\\n                  >\\n                    <div v-for=\\\"code in recoveryCodes\\\" :key=\\\"code\\\">\\n                      {{ code }}\\n                    </div>\\n                  </div>\\n                </v-col>\\n              </v-row>\\n            </div>\\n          </v-card-text>\\n        </v-col>\\n        <v-col>\\n          <v-card-actions>\\n            <div class=\\\"mt-5\\\">\\n              <div v-if=\\\"!twoFactorEnabled\\\">\\n                <ConfirmsPassword @confirmed=\\\"enableTwoFactorAuthentication\\\">\\n                  <v-btn type=\\\"button\\\"  color=\\\"primary white--text\\\" :loading=\\\"enabling\\\" :disabled=\\\"enabling\\\">\\n                    تفعيل\\n                  </v-btn>\\n                </ConfirmsPassword>\\n              </div>\\n\\n              <div v-else>\\n                <ConfirmsPassword\\n                  @confirmed=\\\"regenerateRecoveryCodes\\\"\\n                  class=\\\"mr-3\\\"\\n                >\\n                  <v-btn color=\\\"accent\\\" dark type=\\\"button\\\"  :loading=\\\"regenerate\\\"  v-if=\\\"recoveryCodes.length > 0\\\">\\n                    إعادة إنشاء رموز الاسترداد\\n                  </v-btn>\\n                </ConfirmsPassword>\\n\\n                <ConfirmsPassword @confirmed=\\\"showRecoveryCodes\\\" class=\\\"mr-3\\\">\\n                  <v-btn  color=\\\"accent\\\" dark type=\\\"button\\\" :loading=\\\"showRecovery\\\" v-if=\\\"recoveryCodes.length == 0\\\">\\n                    إظهار رموز الاسترداد\\n                  </v-btn>\\n                </ConfirmsPassword>\\n\\n                <ConfirmsPassword\\n                  @confirmed=\\\"disableTwoFactorAuthentication\\\"\\n                  class=\\\"mr-3\\\"\\n                >\\n                  <v-btn\\n                    type=\\\"button\\\"\\n                    color=\\\"red\\\"\\n                    dark\\n                    :loading=\\\"disabling\\\"\\n\\n                  >\\n                    تعطيل\\n                  </v-btn>\\n                </ConfirmsPassword>\\n              </div>\\n            </div>\\n          </v-card-actions>\\n        </v-col>\\n      </v-row>\\n    </v-container>\\n  </v-card>\\n</template>\\n<script>\\nimport ConfirmsPassword from \\\"@/components/profile/ConfirmsPassword\\\";\\nexport default {\\n  components: { ConfirmsPassword },\\n  data() {\\n    return {\\n      enabling: false,\\n      disabling: false,\\n      regenerate:false,\\n      showRecovery:false,\\n\\n      qrCode: null,\\n      recoveryCodes: [],\\n    };\\n  },\\n\\n  methods: {\\n    enableTwoFactorAuthentication() {\\n      this.enabling = true;\\n\\n      this.$inertia\\n        .post(\\n          \\\"/user/two-factor-authentication\\\",\\n          {},\\n          {\\n            preserveScroll: true,\\n          }\\n        )\\n        .then(() => {\\n          return Promise.all([this.showQrCode(), this.showRecoveryCodes()]);\\n        })\\n        .then(() => {\\n          this.enabling = false;\\n        });\\n    },\\n\\n    showQrCode() {\\n      return axios.get(\\\"/user/two-factor-qr-code\\\").then((response) => {\\n        this.qrCode = response.data.svg;\\n      });\\n    },\\n\\n    showRecoveryCodes() {\\n        this.showRecovery=true\\n      return axios.get(\\\"/user/two-factor-recovery-codes\\\").then((response) => {\\n        this.recoveryCodes = response.data;\\n            this.showRecovery = false;\\n      });\\n    },\\n\\n    regenerateRecoveryCodes() {\\n            this.regenerate = true;\\n      axios.post(\\\"/user/two-factor-recovery-codes\\\").then((response) => {\\n        this.showRecoveryCodes();\\n           this.regenerate = false;\\n      });\\n    },\\n\\n    disableTwoFactorAuthentication() {\\n      this.disabling = true;\\n\\n      this.$inertia.post(\\\"/user/two-factor-authentication\\\",{\\\"_method\\\":\\\"delete\\\"},{\\n           preserveScroll: true,\\n          onProgress: (progress) => {\\n            this.disabling = true;\\n          },\\n          onSuccess: (page) => {\\n            this.disabling = false;\\n          },\\n           onFinish: () => {\\n          this.disabling = false;\\n        },\\n      })\\n\\n    //   this.$inertia\\n    //     .delete(\\\"/user/two-factor-authentication\\\", {\\n    //       preserveScroll: true,\\n    //     })\\n    //     .then(() => {\\n    //       this.disabling = false;\\n    //     });\\n    },\\n  },\\n\\n  computed: {\\n    twoFactorEnabled() {\\n      return !this.enabling && this.$page.props.user.two_factor_enabled;\\n    },\\n  },\\n};\\n</script>\\n<style>\\n.text-lg {\\n  font-size: 1.125rem;\\n  line-height: 1.75rem;\\n}\\n.font-medium {\\n  font-weight: 500;\\n}\\n.text-sm {\\n  font-size: 0.875rem;\\n  line-height: 1.25rem;\\n}\\n.max-w-xl {\\n  max-width: 36rem;\\n}\\n.grid {\\n  display: grid;\\n}\\n.gap-1 {\\n  grid-gap: 0.25rem;\\n  gap: 0.25rem;\\n}\\n.font-mono {\\n  font-family: Menlo, Monaco, Consolas, \\\"Liberation Mono\\\", \\\"Courier New\\\",\\n    monospace;\\n}\\n.bg-gray-100 {\\n  --bg-opacity: 1;\\n  background-color: #f4f5f7;\\n  background-color: rgba(244, 245, 247, var(--bg-opacity));\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<template>\n  <span>\n    <span @click=\"startConfirmingPassword\">\n      <slot />\n    </span>\n    <v-dialog v-model=\"confirmingPassword\" persistent max-width=\"500\">\n      <v-card>\n        <v-card-title class=\"headline\">\n          {{ title }}\n        </v-card-title>\n        <v-card-text>\n          <p>\n            {{ content }}\n          </p>\n\n          <v-text-field\n            v-model=\"form.password\"\n            label=\"كلمة السر \"\n            ref=\"password\"\n            @keyup.enter.native=\"confirmPassword\"\n            append-icon=\"fa-key\"\n            outlined\n            type=\"password\"\n            name=\"password\"\n            :class=\"{ 'is-invalid': form.error }\"\n            :error=\"!!form.error\"\n            :error-messages=\"form.error\"\n          />\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn\n            color=\"primary white--text\"\n            dark\n            @click=\"confirmingPassword = false\"\n          >\n            لا\n          </v-btn>\n          <v-btn\n            color=\"primary white--text\"\n            dark\n            @click=\"confirmPassword\"\n            :loading=\"loading\"\n          >\n            {{ button }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </span>\n</template>\n<script>\nexport default {\n  props: {\n    title: {\n      default: \"تاكيدد كلمة المرور\",\n    },\n    content: {\n      default: \"لحمايتك ، يرجى تأكيد كلمة المرور الخاصة بك للمتابعة.\",\n    },\n    button: {\n      default: \"تاكيد\",\n    },\n  },\n\n  data() {\n    return {\n      loading: false,\n      confirmingPassword: false,\n\n      // form: this.$inertia.form({\n      //     password: '',\n      //     error: '',\n      // }, {\n      //     bag: 'confirmPassword',\n      // }),\n      form: {\n        password: \"\",\n        error: \"\",\n      },\n    };\n  },\n\n  methods: {\n    startConfirmingPassword() {\n      this.form.error = \"\";\n      // make sure if it confirm password or not\n      axios.get(route(\"password.confirmation\")).then((response) => {\n        if (response.data.confirmed) {\n          this.$emit(\"confirmed\");\n        } else {\n          this.confirmingPassword = true;\n          this.form.password = \"\";\n \n        }\n      });\n    },\n\n    confirmPassword() {\n      this.loading = true;\n\n      axios\n        .post(route(\"password.confirm\"), {\n          password: this.form.password,\n        })\n        .then((response) => {\n          this.confirmingPassword = false;\n          this.form.password = \"\";\n          this.form.error = \"\";\n          this.loading = false;\n\n          this.$nextTick(() => this.$emit(\"confirmed\"));\n        })\n        .catch((error) => {\n          this.loading = false;\n          this.form.error = error.response.data.errors.password[0];\n        });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmsPassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmsPassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConfirmsPassword.vue?vue&type=template&id=d65f5c2c&\"\nimport script from \"./ConfirmsPassword.vue?vue&type=script&lang=js&\"\nexport * from \"./ConfirmsPassword.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TwoFactorAuthentication.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TwoFactorAuthentication.vue?vue&type=script&lang=js&\"","<template>\n  <v-card elevation=\"3\">\n    <v-container>\n      <v-card-title class=\"text-center\"> المصادقة الثنائية </v-card-title>\n      <v-row align-center justify-center>\n        <v-col cols=\"12\" md=\"4\">\n          <v-card-subtitle>\n            أضف أمانًا إضافيًا إلى حسابك باستخدام المصادقة الثنائية\n          </v-card-subtitle>\n        </v-col>\n        <v-col cols=\"12\" md=\"8\">\n          <v-card-text>\n            <h3 class=\"text-lg font-medium gray--text\" v-if=\"twoFactorEnabled\">\n              لقد قمت بتمكين المصادقة الثنائية\n            </h3>\n\n            <h3 class=\"text-lg font-medium gray--text\" v-else>\n              لم تقم بتمكين المصادقة الثنائية\n            </h3>\n\n            <div class=\"mt-3 max-w-xl text-sm gray--text\">\n              <p>\n                عند تمكين المصادقة الثنائية ، ستتم مطالبتك برمز آمن وعشوائي\n                أثناء المصادقة. يمكنك استرداد هذا الرمز المميز من تطبيق Google\n                Authenticator بهاتفك.\n              </p>\n            </div>\n          </v-card-text>\n        </v-col>\n        <v-col cols=\"12\">\n          <v-card-text>\n            <div v-if=\"twoFactorEnabled\">\n              <v-row>\n                <v-col cols=\"12\" md=\"6\" v-if=\"qrCode\">\n                  <div class=\"mt-4 max-w-xl text-sm gray--text\">\n                    <p class=\"font-semibold\">\n                      تم تمكين المصادقة الثنائية الآن. امسح رمز الاستجابة\n                      السريعة التالي ضوئيًا باستخدام تطبيق المصادقة بهاتفك.\n                    </p>\n                  </div>\n\n                  <div\n                    class=\"mt-4 dark:p-4 dark:w-56 dark:bg-white\"\n                    v-html=\"qrCode\"\n                  ></div>\n                </v-col>\n\n                <v-col cols=\"12\" md=\"6\" v-if=\"recoveryCodes.length > 0\">\n                  <div class=\"mt-4 max-w-xl text-sm gray--text\">\n                    <p class=\"font-semibold\">\n                      قم بتخزين رموز الاسترداد هذه في مدير كلمات مرور آمن. يمكن\n                      استخدامها لاستعادة الوصول إلى حسابك في حالة فقد جهاز\n                      المصادقة الثنائية الخاص بك.\n                    </p>\n                  </div>\n\n                  <div\n                    class=\"grid gap-1 max-w-xl mt-4 px-4 py-4 font-mono text-sm bg-gray-100 rounded-lg\"\n                  >\n                    <div v-for=\"code in recoveryCodes\" :key=\"code\">\n                      {{ code }}\n                    </div>\n                  </div>\n                </v-col>\n              </v-row>\n            </div>\n          </v-card-text>\n        </v-col>\n        <v-col>\n          <v-card-actions>\n            <div class=\"mt-5\">\n              <div v-if=\"!twoFactorEnabled\">\n                <ConfirmsPassword @confirmed=\"enableTwoFactorAuthentication\">\n                  <v-btn type=\"button\"  color=\"primary white--text\" :loading=\"enabling\" :disabled=\"enabling\">\n                    تفعيل\n                  </v-btn>\n                </ConfirmsPassword>\n              </div>\n\n              <div v-else>\n                <ConfirmsPassword\n                  @confirmed=\"regenerateRecoveryCodes\"\n                  class=\"mr-3\"\n                >\n                  <v-btn color=\"accent\" dark type=\"button\"  :loading=\"regenerate\"  v-if=\"recoveryCodes.length > 0\">\n                    إعادة إنشاء رموز الاسترداد\n                  </v-btn>\n                </ConfirmsPassword>\n\n                <ConfirmsPassword @confirmed=\"showRecoveryCodes\" class=\"mr-3\">\n                  <v-btn  color=\"accent\" dark type=\"button\" :loading=\"showRecovery\" v-if=\"recoveryCodes.length == 0\">\n                    إظهار رموز الاسترداد\n                  </v-btn>\n                </ConfirmsPassword>\n\n                <ConfirmsPassword\n                  @confirmed=\"disableTwoFactorAuthentication\"\n                  class=\"mr-3\"\n                >\n                  <v-btn\n                    type=\"button\"\n                    color=\"red\"\n                    dark\n                    :loading=\"disabling\"\n\n                  >\n                    تعطيل\n                  </v-btn>\n                </ConfirmsPassword>\n              </div>\n            </div>\n          </v-card-actions>\n        </v-col>\n      </v-row>\n    </v-container>\n  </v-card>\n</template>\n<script>\nimport ConfirmsPassword from \"@/components/profile/ConfirmsPassword\";\nexport default {\n  components: { ConfirmsPassword },\n  data() {\n    return {\n      enabling: false,\n      disabling: false,\n      regenerate:false,\n      showRecovery:false,\n\n      qrCode: null,\n      recoveryCodes: [],\n    };\n  },\n\n  methods: {\n    enableTwoFactorAuthentication() {\n      this.enabling = true;\n\n      this.$inertia\n        .post(\n          \"/user/two-factor-authentication\",\n          {},\n          {\n            preserveScroll: true,\n          }\n        )\n        .then(() => {\n          return Promise.all([this.showQrCode(), this.showRecoveryCodes()]);\n        })\n        .then(() => {\n          this.enabling = false;\n        });\n    },\n\n    showQrCode() {\n      return axios.get(\"/user/two-factor-qr-code\").then((response) => {\n        this.qrCode = response.data.svg;\n      });\n    },\n\n    showRecoveryCodes() {\n        this.showRecovery=true\n      return axios.get(\"/user/two-factor-recovery-codes\").then((response) => {\n        this.recoveryCodes = response.data;\n            this.showRecovery = false;\n      });\n    },\n\n    regenerateRecoveryCodes() {\n            this.regenerate = true;\n      axios.post(\"/user/two-factor-recovery-codes\").then((response) => {\n        this.showRecoveryCodes();\n           this.regenerate = false;\n      });\n    },\n\n    disableTwoFactorAuthentication() {\n      this.disabling = true;\n\n      this.$inertia.post(\"/user/two-factor-authentication\",{\"_method\":\"delete\"},{\n           preserveScroll: true,\n          onProgress: (progress) => {\n            this.disabling = true;\n          },\n          onSuccess: (page) => {\n            this.disabling = false;\n          },\n           onFinish: () => {\n          this.disabling = false;\n        },\n      })\n\n    //   this.$inertia\n    //     .delete(\"/user/two-factor-authentication\", {\n    //       preserveScroll: true,\n    //     })\n    //     .then(() => {\n    //       this.disabling = false;\n    //     });\n    },\n  },\n\n  computed: {\n    twoFactorEnabled() {\n      return !this.enabling && this.$page.props.user.two_factor_enabled;\n    },\n  },\n};\n</script>\n<style>\n.text-lg {\n  font-size: 1.125rem;\n  line-height: 1.75rem;\n}\n.font-medium {\n  font-weight: 500;\n}\n.text-sm {\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n}\n.max-w-xl {\n  max-width: 36rem;\n}\n.grid {\n  display: grid;\n}\n.gap-1 {\n  grid-gap: 0.25rem;\n  gap: 0.25rem;\n}\n.font-mono {\n  font-family: Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\",\n    monospace;\n}\n.bg-gray-100 {\n  --bg-opacity: 1;\n  background-color: #f4f5f7;\n  background-color: rgba(244, 245, 247, var(--bg-opacity));\n}\n</style>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('span',{on:{\"click\":_vm.startConfirmingPassword}},[_vm._t(\"default\")],2),_vm._v(\" \"),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500\"},model:{value:(_vm.confirmingPassword),callback:function ($$v) {_vm.confirmingPassword=$$v},expression:\"confirmingPassword\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"\\n        \"+_vm._s(_vm.title)+\"\\n      \")]),_vm._v(\" \"),_c('v-card-text',[_c('p',[_vm._v(\"\\n          \"+_vm._s(_vm.content)+\"\\n        \")]),_vm._v(\" \"),_c('v-text-field',{ref:\"password\",class:{ 'is-invalid': _vm.form.error },attrs:{\"label\":\"كلمة السر \",\"append-icon\":\"fa-key\",\"outlined\":\"\",\"type\":\"password\",\"name\":\"password\",\"error\":!!_vm.form.error,\"error-messages\":_vm.form.error},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.confirmPassword($event)}},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"primary white--text\",\"dark\":\"\"},on:{\"click\":function($event){_vm.confirmingPassword = false}}},[_vm._v(\"\\n          لا\\n        \")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"primary white--text\",\"dark\":\"\",\"loading\":_vm.loading},on:{\"click\":_vm.confirmPassword}},[_vm._v(\"\\n          \"+_vm._s(_vm.button)+\"\\n        \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-9[0].rules[0].use[1]!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-9[0].rules[0].use[2]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TwoFactorAuthentication.vue?vue&type=style&index=0&lang=css&\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { render, staticRenderFns } from \"./TwoFactorAuthentication.vue?vue&type=template&id=079a593a&\"\nimport script from \"./TwoFactorAuthentication.vue?vue&type=script&lang=js&\"\nexport * from \"./TwoFactorAuthentication.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TwoFactorAuthentication.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"elevation\":\"3\"}},[_c('v-container',[_c('v-card-title',{staticClass:\"text-center\"},[_vm._v(\" المصادقة الثنائية \")]),_vm._v(\" \"),_c('v-row',{attrs:{\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-card-subtitle',[_vm._v(\"\\n          أضف أمانًا إضافيًا إلى حسابك باستخدام المصادقة الثنائية\\n        \")])],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"8\"}},[_c('v-card-text',[(_vm.twoFactorEnabled)?_c('h3',{staticClass:\"text-lg font-medium gray--text\"},[_vm._v(\"\\n            لقد قمت بتمكين المصادقة الثنائية\\n          \")]):_c('h3',{staticClass:\"text-lg font-medium gray--text\"},[_vm._v(\"\\n            لم تقم بتمكين المصادقة الثنائية\\n          \")]),_vm._v(\" \"),_c('div',{staticClass:\"mt-3 max-w-xl text-sm gray--text\"},[_c('p',[_vm._v(\"\\n              عند تمكين المصادقة الثنائية ، ستتم مطالبتك برمز آمن وعشوائي\\n              أثناء المصادقة. يمكنك استرداد هذا الرمز المميز من تطبيق Google\\n              Authenticator بهاتفك.\\n            \")])])])],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card-text',[(_vm.twoFactorEnabled)?_c('div',[_c('v-row',[(_vm.qrCode)?_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('div',{staticClass:\"mt-4 max-w-xl text-sm gray--text\"},[_c('p',{staticClass:\"font-semibold\"},[_vm._v(\"\\n                    تم تمكين المصادقة الثنائية الآن. امسح رمز الاستجابة\\n                    السريعة التالي ضوئيًا باستخدام تطبيق المصادقة بهاتفك.\\n                  \")])]),_vm._v(\" \"),_c('div',{staticClass:\"mt-4 dark:p-4 dark:w-56 dark:bg-white\",domProps:{\"innerHTML\":_vm._s(_vm.qrCode)}})]):_vm._e(),_vm._v(\" \"),(_vm.recoveryCodes.length > 0)?_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('div',{staticClass:\"mt-4 max-w-xl text-sm gray--text\"},[_c('p',{staticClass:\"font-semibold\"},[_vm._v(\"\\n                    قم بتخزين رموز الاسترداد هذه في مدير كلمات مرور آمن. يمكن\\n                    استخدامها لاستعادة الوصول إلى حسابك في حالة فقد جهاز\\n                    المصادقة الثنائية الخاص بك.\\n                  \")])]),_vm._v(\" \"),_c('div',{staticClass:\"grid gap-1 max-w-xl mt-4 px-4 py-4 font-mono text-sm bg-gray-100 rounded-lg\"},_vm._l((_vm.recoveryCodes),function(code){return _c('div',{key:code},[_vm._v(\"\\n                    \"+_vm._s(code)+\"\\n                  \")])}),0)]):_vm._e()],1)],1):_vm._e()])],1),_vm._v(\" \"),_c('v-col',[_c('v-card-actions',[_c('div',{staticClass:\"mt-5\"},[(!_vm.twoFactorEnabled)?_c('div',[_c('ConfirmsPassword',{on:{\"confirmed\":_vm.enableTwoFactorAuthentication}},[_c('v-btn',{attrs:{\"type\":\"button\",\"color\":\"primary white--text\",\"loading\":_vm.enabling,\"disabled\":_vm.enabling}},[_vm._v(\"\\n                  تفعيل\\n                \")])],1)],1):_c('div',[_c('ConfirmsPassword',{staticClass:\"mr-3\",on:{\"confirmed\":_vm.regenerateRecoveryCodes}},[(_vm.recoveryCodes.length > 0)?_c('v-btn',{attrs:{\"color\":\"accent\",\"dark\":\"\",\"type\":\"button\",\"loading\":_vm.regenerate}},[_vm._v(\"\\n                  إعادة إنشاء رموز الاسترداد\\n                \")]):_vm._e()],1),_vm._v(\" \"),_c('ConfirmsPassword',{staticClass:\"mr-3\",on:{\"confirmed\":_vm.showRecoveryCodes}},[(_vm.recoveryCodes.length == 0)?_c('v-btn',{attrs:{\"color\":\"accent\",\"dark\":\"\",\"type\":\"button\",\"loading\":_vm.showRecovery}},[_vm._v(\"\\n                  إظهار رموز الاسترداد\\n                \")]):_vm._e()],1),_vm._v(\" \"),_c('ConfirmsPassword',{staticClass:\"mr-3\",on:{\"confirmed\":_vm.disableTwoFactorAuthentication}},[_c('v-btn',{attrs:{\"type\":\"button\",\"color\":\"red\",\"dark\":\"\",\"loading\":_vm.disabling}},[_vm._v(\"\\n                  تعطيل\\n                \")])],1)],1)])])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"sourceRoot":""}